{% extends "core/base_web.html" %}
{% from "macros/form.html" import renderForm %}

{% block title %}Login{% endblock %}

{% block prenorth %}
<meta name="google-site-verification" content="GNpWBXBMCFjW7thMuE06UvfgI4mktA9EcsevLda9VPU" />

<style>
body
{
	font-family:"Lucida Grande", Arial;
	background: url('/assets/img/static/layout/ws-dark-stripes.png') repeat transparent;
}
.hidden { display:none; }
#wrapper
{
	height:100%;
	width:100%;
	display:table;
	position: relative;
}
#content
{
	top:50%;
	display:table-cell;
	vertical-align:middle;
	overflow:hidden;
}
#splash
{
	width:1000px;
	height:300px;
	background:white;
	display:table;
	margin-left:20px;
	
}
#content_box
{
	display:table-cell;
	vertical-align:middle;
}
#left
{
	float:left;
	background:white;
	padding-left:15px;
	border:1px solid #c2c3c3;
	width:240px;
	height:200px;
	margin-left:30px;
}
#right
{
	float:left;
	height:200px;
	padding-left:20px;
	background:white;
}
#ws_logo
{
	width:100%;
	height:100%;
	display:table;
}
#ws_logo div
{
	display:table-cell;
	vertical-align:middle;
}

/* === Form styles === */
#username-box
{
	margin-top:35px !important;
	font-family:"Lucida Grande", Arial;
	width: 200px;
}
#password-box
{
	margin-top:3px !important;
	font-family:"Lucida Grande", Arial;
	width: 200px;
}
#password_1-box
{
	width:200px;
}
#password_2-box
{
	width:200px;
}
#logon-button
{
	margin-top:10px;
}
#notice
{
	display:inline;
	height:20px;
	padding:15px;
	padding-left:10px;
}
#notice div
{	
	background:yellow;
	padding:3px;
	padding-left:5px;
	padding-right:5px;
	min-width:100px;
}
#notice div span
{
	background: url('/assets/img/static/icons/error.png') no-repeat 0 50%;
	padding-left:25px;	
}
.unsupportedBrowser
{
	opacity:0.35 !important;
}
#unsupportedBrowserWarning
{
	opacity:0.83;
	position:absolute;
	width:1000px;
	height:300px;
	background:#111;
}
#unsupportedBrowserWarning p
{
	background:#333;
	padding:3px;
	margin-left:15px;
	margin-right:15px;
	color:#999;
}
#unsupportedBrowserWarning p a
{
	color:#E5EBF7;
}
#unsupportedBrowserWarning p a:hover
{
	color:#111;
	background:#E5EBF7;
}
</style>

{% endblock %}

{% block _wrapper %}

	<div id='splash'>
		
		<div id='unsupportedBrowserWarning' class='hidden'>

			<p>
				Unfortunately, the browser you are using to visit this site is not compatible with one or more required features.<br />
				Please visit this site using either <a href='http://chrome.google.com'>Google Chrome</a>, <a href='http://www.apple.com/safari/'>Apple Safari</a>, or <a href='http://getfirefox.com'>Mozilla Firefox</a>.
			</p>
			
		</div>
		
		<div id='content_box'>
		
			<div id='left'>
				<form action="{{ link('auth/login', action='spi-phase2') }}" method="post" class='spi-form'>
					{{ renderForm(logon_form, True, True) }}
					<input type='submit' value='Log In' id='logon-button' />
				</form>
			</div>
			
			<div id='spacer'></div>
			
			<div id='right'>
				<div id='ws_logo'>
					<div>
						{%- if notice -%}<div id='notice'><div><span>{{ notice }}</span></div></div>{%- endif -%}						
						<img src='/assets/img/static/layout/ws-ucr-beta.png' alt='[wire] stone - Universal Content Repository, Beta' />
					</div>
				</div>
			</div>
			
		
		</div>
		
	</div>
	
	<script type='text/javascript'>
		
		/*
		if (!$.browser.webkit) {
			$('#splash').addClass('unsupportedBrowser');
			$('#unsupportedBrowserWarning').removeClass('hidden');
		}
		*/
	
	</script>
	
{% endblock %}